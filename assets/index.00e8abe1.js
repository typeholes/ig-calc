var e=Object.defineProperty,t=(t,s,a)=>(((t,s,a)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a})(t,"symbol"!=typeof s?s+"":s,a),a);import{_ as s,p as a,a as i,s as n,d as r,r as o,b as l,u as c,o as u,c as d,e as h,t as m,n as g,f as p,g as f,F as v,h as y,i as b,j as S,k as M,l as N,K as V,m as x,q as w}from"./vendor.1e377b73.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const _=function(e){return e.name&&(e.toTex=()=>"\\class{hover varname-"+e.name+"}{"+e.name+"}"),e};function k(e,t){const s=e.indexOf(t);-1!==s&&e.splice(s,1)}function F(e){return e.filter(((e,t,s)=>s.indexOf(e)===t))}function C(e,t=8){if("number"!=typeof e)return e;return(e>1e3?e.toExponential(2):e.toFixed(2)).toString().replace("+","").padStart(t," ")}const D=a();function U(e,t){D.set(e,t)}function T(e,t,s={},a=Number.MAX_SAFE_INTEGER,n=1){if(e.content)return e.content=T(e.content,t,s,a,n+1),e;if(e.op)return e.args=e.args.map((e=>T(e,t,s,a,n+1))),e;if(e.fn){let d=O.get(e.fn);if(void 0===d||n>a)return e.args=e.args.map((e=>T(e,t,s,a,n))),e;for(var r=i(d.body),o={},l=0;l<d.argNames.length;l++){var c=d.argNames[l],u=e.args[l];o[c]=T(u,t,{...s},a,n+1)}return T(r,t,{...s,...o},a,n+1)}if(e.name){const a=s[e.name],n=t?a||D.get(e.name):a;if(void 0===n)try{const t=e.evaluate();return"number"==typeof t?i(t.toString()):e}catch(d){return e}return"object"==typeof n?n:i(n)}return e.value,e}function j(e){var t="Not Run";try{t=D.evaluate(e)}catch(s){t=s}return t}function B(e,t,s,a={}){return function(){let r=i(e),o=t?T(r,s,a):r;return n(o).transform(_).toTex({parenthesis:"keep",implicit:"hide"})}}function A(e,t,s={}){return function(){return function(e,t,s={}){var a=T(e,!0,s);return r(a,t)}(e,t,s).transform(_).toTex({parenthesis:"keep",implicit:"hide"})}}function E(e,t={}){return F(T(i(e),!1,t).filter((function(e){return e.isSymbolNode&&void 0!==D.get(e.name)})).map((e=>e.name)))}function I(e,t="",a="",n="",r,o={}){void 0!==t&&""!==t&&function(e,t,s="",a={}){!function(e){const t=e.map((e=>{var t=document.getElementById(e.id),s=e.toTex();return MathJax.tex2chtmlPromise(s,{em:64,ex:16,display:!1,scale:2}).then((e=>{t&&(t.innerHTML="",t.appendChild(e))}))}));MathJax.typesetClear(),Promise.all(t).then(MathJax.typesetPromise()).then(createHovers)}([{id:s+"pretty",toTex:B(e,!1,!1)},{id:s+"pretty-val",toTex:B(e,!0,!1,a)},{id:s+"derivative",toTex:A(e,t)},{id:s+"derivative-val",toTex:A(e,t,a)}])}(e.body,"x",t,o);const l=e.body,c=T(i(l),!0,o),u=F(c.filter((function(e){return e.isSymbolNode&&void 0!==D.get(e.name)})).map((e=>e.name)));if(u.length>1)throw"too many free variables in "+e.name+": "+u.join(", ");const d=u[0];!function(e,t,a){s({target:e,title:a,width:300,yAxis:{domain:[-1,9]},grid:!0,data:[{fn:t,color:"purple",graphType:"polyline"}],tip:{renderer:function(e,t,s){return t.toString()}}})}(a,("x"===d?"":d+"=x;")+c.toString(),(r[d]||d)+" -> "+n)}class q{constructor(e,s,a){t(this,"name"),t(this,"argNames"),t(this,"body"),t(this,"_fn"),this.name=e,this.argNames=s,this.body=a,this._fn=function(e){var t="Valid",s=null;try{s=D.evaluate(e)}catch(a){t=a}return{result:t,fn:s}}(this.defString()).fn}evalArgValues(e){return this.argNames.map((t=>j(e[t])))}argValues(e){return this.argNames.map((t=>e[t]))}signatureString(){return this.name+"("+this.argNames.join(",")+")"}defString(){return this.signatureString()+" = "+this.body}run(e){return this._fn(...this.evalArgValues(e))}callStr(e){return this.name+"("+this.argValues(e).join(",")+")"}callStrEvaluatedArgs(e){return this.name+"("+this.evalArgValues(e).join(",")+")"}}const G=class{constructor(){t(this,"map",{});const e=new q("id",["x"],"x");this.map.id=e}static add(e){G._instance.map[e.name]=e}static get(e){return G._instance.map[e]}static create(e,t,s){const a=new q(e,t,s);return G.add(a),a}static adjust(e,t,s){return this.create(t,e.argNames,s(e.body))}static makeUniqueSuffix(){this.uniqCnt++;return this.uniqCnt.toString().split("").map((e=>this.digitMap[e])).join("")+"_"}};let O=G;t(O,"_instance",new G),t(O,"uniqCnt",0),t(O,"digitMap",{1:"a",2:"b",3:"c",4:"d",5:"e",6:"f",7:"g",8:"h",9:"i",0:"j",".":"k","+":"l","-":"m",",":"n",e:"o"});class P{constructor(e,s,a,i,n){t(this,"name"),t(this,"displayName"),t(this,"visible"),t(this,"fn"),t(this,"args"),this.name=e,this.displayName=s,this.visible=a,this.fn=i,this.args=n}get value(){return this.fn.run(this.args)}spend(e){}dependsOn(e){return!(void 0===Object.values(this.args).find((t=>"string"==typeof t&&t.split(/[^a-zA-Z]/).includes(e))))}}const R=class extends P{constructor(){super("t","Time",!1,O.get("id"),{x:"t"}),t(this,"time",0)}get value(){return this.time}};let J=R;t(J,"instance",new R);class L extends P{}class W extends P{constructor(e,s,a,i,n,r,o,l=i,c=n,u=!0){super(e,s,a,i,n),t(this,"_cntBought",0),t(this,"_totalBought",0),t(this,"currency"),t(this,"buyable",!0),t(this,"sellable",!1),t(this,"sellFn"),t(this,"sellArgs"),this.currency=r,this.sellable=o,this.buyable=u,this.sellFn=l,this.sellArgs=c}forceSetCounts(e,t){this._cntBought=e,this._totalBought=t}get cost(){return super.value}get sellCost(){return this.sellFn.run(this.sellArgs)}get value(){return this._cntBought}get totalBought(){return this._totalBought}buy(){this._cntBought++,this._totalBought++}spend(e){this._cntBought-=e}}class z extends W{constructor(e,t,s){const a=O.get("id"),i={x:e};super(e,t,s,a,i,"",!1,a,i,!1)}}const Z={value:0,cost:0,sellCost:0,total:0};class H{constructor(e,s,a){t(this,"uiState"),t(this,"uiStateMethods"),t(this,"milestoneManager"),t(this,"_items",{t:J.instance}),t(this,"_order",[]),t(this,"_dependencies",{}),t(this,"_deepDependencies",{}),t(this,"_dirty",[]),this.uiState=e,this.uiStateMethods=s,this.milestoneManager=a,this.add(J.instance)}getUiVarField(e,t){const s="string"==typeof e?this.get(e):e;return"value"===t?s.value:"total"===t&&s instanceof W?s.totalBought:"cost"===t&&s instanceof W?s.cost:"sellCost"===t&&s instanceof W?s.sellCost:NaN}setUiVarField(e,t,s=NaN){const a="string"==typeof e?this.get(e):e;"dirty"===s&&this._dirty.push(a.name);let i=s;("dirty"==i||isNaN(i))&&(i=this.getUiVarField(a,t)),this.uiStateMethods.varSetter(this.uiState,a.name,t,i),"value"!==t&&"total"!==t||(U(a.name+("total"===t?"_total":""),i),this.handleMilestoneUpdate(a.name))}setUiVarFields(e,t="clean"){const s="string"==typeof e?this.get(e):e;"dirty"===t&&this._dirty.push(s.name),this.setUiVarField(s,"cost"),this.setUiVarField(s,"sellCost"),this.setUiVarField(s,"value"),this.setUiVarField(s,"total")}newCalculation(e,t,s,a,i){const n=new L(e,t,s,a,i);return this.add(n),n}newPlain(e,t,s,a){const i=new z(e,t,s);return this.add(i),i.spend(-1*a),i}newBuyable(e,t,s,a,i,n,r){const o=new W(e,t,s,a,i,n,r);this.add(o),this.setUiVarField(o,"value"),this.setUiVarField(o,"cost");const l=this._items[n];return l instanceof L&&(l.fn=O.adjust(l.fn,e+"_"+n,(t=>t+" - "+a.callStr(i).replace(e,e+"_total")+" + "+a.callStrEvaluatedArgs(i)))),this.setUiVarField(l,"value","dirty"),o}add(e){var t,s;this.uiStateMethods.varAdder(this.uiState,e.name),this._dependencies[e.name]=[],this._calculateDependencies(e),this._deepDependencies[e.name]=(t=e.fn,s=e.args,t?E(t.body,s):[]),this._order.push(e.name),this._items[e.name]=e,this.setUiVarField(e,"value","dirty")}_calculateDependencies(e){for(const t in this._items)e.dependsOn(t)&&this._dependencies[t].push(e.name)}get(e){return this._items[e]}getNames(){return[...this._order]}tick(e){const t=this._items.t;t.time+=e,this.setUiVarField(t,"value",t.time),this._dirty.push("t");for(let s=0;s<2;s++){const e=[];this._order.forEach((t=>{if(this._dirty.includes(t)){const s=this._items[t];this.setUiVarFields(s),this._dirty.push(...this._dependencies[t]),e.push(t)}this._dirty=F(this._dirty),e.forEach((e=>{k(this._dirty,e)}))}))}}isBuyable(e){const t=this.get(e);return t instanceof W&&t.buyable}isSellable(e){const t=this.get(e);return t instanceof W&&t.sellable}getDependencies(e){const t=this._deepDependencies[e]||[],s=t.map((e=>this.getDependencies(e))).flat();return t.push(...s),t}getDependents(e){const t=[];return this._order.forEach((s=>{this._deepDependencies[s].includes(e)&&t.push(s)})),t}getCurrency(e){const t=this.get(e);if(t instanceof W)return this.get(t.currency)}getCurrencyName(e){const t=this.getCurrency(e);return t?t.name:""}sell(e){const t=this.get(e);if(!(t instanceof W))return;const s=this.getCurrencyName(e),a=this.get(s),i=t.cost;t.spend(1),this.setUiVarFields(t,"dirty"),a.spend(-1*i),this.setUiVarFields(a,"dirty")}buy(e){const t=this.get(e);if(!(t instanceof W))return;const s=this.getCurrencyName(e),a=this.get(s),i=t.cost;i>this.getUiVarField(a,"cost")||(t.buy(),this.setUiVarFields(t,"dirty"),a.spend(i),this.setUiVarFields(a,"dirty"))}setFromUIValues(){this._order.forEach((e=>{const t=this._items[e];t instanceof W?t.forceSetCounts(this.uiStateMethods.varGetter(this.uiState,e,"value"),this.uiStateMethods.varGetter(this.uiState,e,"total")):t instanceof J&&(t.time=this.uiStateMethods.varGetter(this.uiState,e,"value")),this._dirty.push(e),U(e,this.uiStateMethods.varGetter(this.uiState,e,"value")),U(e+"_total",this.uiStateMethods.varGetter(this.uiState,e,"value")),this.handleMilestoneUpdate(e)}))}handleMilestoneUpdate(e){this.milestoneManager.handleUpdate(e).forEach((e=>{if(e.setVisible)for(let t in e.setVisible){this.get(t).visible=!0}if(e.setBuyable)for(let t in e.setBuyable){const e=this.get(t);e instanceof W&&(e.buyable=!0)}if(e.setSellable)for(let t in e.setSellable){const e=this.get(t);e instanceof W&&(e.sellable=!0)}if(e.storyPoint&&alert(e.storyPoint),e.adjustFunctions)for(let t in e.adjustFunctions)for(let s in e.adjustFunctions[t]){const a=e.adjustFunctions[t][s];this.adjustFnOf(t,s,a,"M")}}))}adjustFnOf(e,t,s,a){const i=this.get(e),n="_"+a+O.makeUniqueSuffix();let r,o;if("value"!==t||i instanceof W)if("cost"===t&&i instanceof W)r=i.fn,o=e=>i.fn=e;else{if(!("sellCost"===t&&i instanceof W))throw"invalid fnType "+t+" for "+i.name;r=i.sellFn,o=e=>i.sellFn=e}else r=i.fn,o=e=>i.fn=e;o(O.adjust(r,r.name+n,(e=>s.replace("<&>",r.signatureString()))))}getDisplayExpr(e){const t=this._order.map((e=>[e,this.get(e).displayName]));return function(e,t){return i(e).transform((function(e,s,a){return e.isSymbolNode&&t[e.name]?i('"'+t[e.name]+'"'):e})).toString()}(e,Object.fromEntries(t))}}class K{constructor(e){t(this,"saves",{}),t(this,"uiStateGetter"),this.uiStateGetter=e;const s=window.localStorage.getItem("matholeSaves");s?this.parseSaveStr(s):this.save("default")}save(e){this.buildNewSave(e),this.writeSaves()}load(e){return this.saves[e]}readSave(e){return!1}parseSaveStr(e){this.saves=JSON.parse(e)}writeSaves(){const e=JSON.stringify(this.saves);window.localStorage.setItem("matholeSaves",e)}buildNewSave(e){this.saves[e]=this.uiStateGetter()}}class Y{constructor(e,s,a,i="",n={}){t(this,"name"),t(this,"displayName"),t(this,"rewardtext"),t(this,"condition"),t(this,"rewardAction"),this.name=e,this.displayName=s,this.rewardtext=i,this.condition=a,this.rewardAction=n}check(){return j(this.condition)}}class X{constructor(e,s){t(this,"milestoneMap",{}),t(this,"dependencies",{}),t(this,"uiState"),t(this,"uiStateMethods"),this.uiState=e,this.uiStateMethods=s}create(e,t,s,a="",i={}){const n=new Y(e,t,s,a,i);this.milestoneMap[e]=n;return E(s).forEach((t=>{var s;(s=this.dependencies)[t]||(s[t]=[]),this.dependencies[t].push(e)})),n}handleUpdate(e){const t=this.dependencies[e];if(!t)return[];const s=[];return t.forEach((e=>{if(this.milestoneReached(e))return;const t=this.milestoneMap[e];t.check()&&(this.setReached(e),s.push(t.rewardAction))})),s}milestoneReached(e){return this.uiStateMethods.milestoneGetter(this.uiState,e)}setReached(e){this.uiStateMethods.milestoneSetter(this.uiState,e,!0)}getNames(){return Object.keys(this.milestoneMap)}get(e){return this.milestoneMap[e]}}const $=class{constructor(e,s,a){t(this,"canTick",!0),t(this,"gameVarManager"),t(this,"saveManager"),t(this,"milestoneManager"),t(this,"uiState"),t(this,"uiStateMethods"),this.uiState=e,this.uiStateMethods=s,this.milestoneManager=new X(e,s),this.gameVarManager=new H(e,s,this.milestoneManager),a(this.gameVarManager,O,this.milestoneManager),this.saveManager=new K((()=>this.uiStateMethods.cloner(this.uiState)))}static init(e,t,s){return $._instance=new $(e,t,s),e}static getInstance(){return $._instance}displayFunction(e,t,s,a){const i=this.gameVarManager.get(e);I(i.fn,"",t,a,s,i.args)}getNameMap(){const e={};return this.gameVarManager.getNames().forEach((t=>e[t]=this.getDisplayName(t))),e}getNames(){return this.gameVarManager.getNames()}tick(e){this.canTick&&(this.canTick=!1,this.gameVarManager&&this.gameVarManager.tick(e),this.canTick=!0)}getDisplayName(e){return""===e?"WTF!":this.gameVarManager.get(e).displayName}isVisible(e){return this.gameVarManager.get(e).visible}buy(e){this.gameVarManager.buy(e)}sell(e){this.gameVarManager.sell(e)}isSellable(e){return this.gameVarManager.isSellable(e)}isBuyable(e){return this.gameVarManager.isBuyable(e)}getCurrencyName(e){return this.gameVarManager.getCurrencyName(e)}getCurrencyDisplayName(e){return""===e?"":this.getDisplayName(this.getCurrencyName(e))}getDependencies(e){return this.gameVarManager.getDependencies(e)}getDependents(e){return this.gameVarManager.getDependents(e)}getMilestoneNames(){return this.milestoneManager.getNames()}getMilestoneDisplayName(e){return this.milestoneManager.get(e).displayName}getMilestoneReward(e){return this.milestoneManager.get(e).rewardtext}getMilestoneCondition(e){const t=this.milestoneManager.get(e).condition;return this.getDisplayExpr(t)}getDisplayExpr(e){return this.gameVarManager.getDisplayExpr(e)}save(){this.canTick=!1,this.saveManager.save("default"),this.canTick=!0}load(){this.canTick=!1;const e=this.saveManager.load("default").vars;for(const t in e){const s=e[t].value,a=e[t].cost,i=e[t].cost,n=e[t].total;this.gameVarManager.setUiVarField(t,"value",s),this.gameVarManager.setUiVarField(t,"cost",a),this.gameVarManager.setUiVarField(t,"sellCost",i),this.gameVarManager.setUiVarField(t,"total",n)}this.gameVarManager.setFromUIValues(),this.canTick=!0}};let Q=$;t(Q,"_instance");let ee=null,te=null;function se(){return Object.keys(ee)}function ae(){return e=oe.sidebarMode,ee[e]||ee.Sidebars;var e}let ie="Sidebars";function ne(){console.log(ie),re(ie)}function re(e){"Sidebars"!==oe.sidebarMode&&(ie=oe.sidebarMode),oe.sidebarMode=e}const oe=o({graphedVarName:"",selectedVarName:"",dependencies:[],dependents:[],sidebarMode:"Sidebars"}),le=o({vars:{},milestones:{}}),ce={cloner:e=>e,varAdder:(e,t)=>e.vars[t]=o({...Z}),varGetter:(e,t,s)=>e.vars[t][s],varSetter:(e,t,s,a)=>e.vars[t][s]=a,milestoneGetter:(e,t)=>e.milestones[t],milestoneSetter:(e,t,s)=>e.milestones[t]=s};function ue(e){return le.vars[e].value}function de(e){return le.vars[e].sellCost}function he(e){return le.vars[e].cost}function me(e){return le.milestones[e]}function ge(e){if("Dependencies"===oe.sidebarMode)if(oe.selectedVarName===e)oe.selectedVarName="",oe.dependencies=[],oe.dependents=[];else{oe.selectedVarName=e;let t=te.getDependencies(e),s=te.getDependents(e);oe.dependencies=t,oe.dependents=s}"Graph"===oe.sidebarMode&&(oe.graphedVarName=e,pe())}function pe(){var e;""!==oe.graphedVarName&&te.displayFunction(oe.graphedVarName,"#test-graph-expr",te.getNameMap(),(e=oe.graphedVarName,(te.isBuyable(e)?"Cost of ":"")+te.getDisplayName(e)))}const fe={key:0,class:"gamevar"},ve={class:"label"},ye={class:"value"},be={class:"buy"},Se=["disabled"],Me={class:"sell"},Ne=["disabled"];var Ve=l({props:{varName:{type:String,required:!0},forceVisible:{type:Boolean,required:!0,default:!1}},setup(e){const t=Q.getInstance();function s(e){const s=t.getCurrencyName(e);if(!s)return!1;return ue(s)>=he(e)}function a(e){let t={marker:!0,dependent:!1,depends:!1,hidden:!0,inline:!0};return e===oe.selectedVarName?(t.hidden=!1,t):(oe.dependencies.includes(e)&&(t.dependent=!0,t.hidden=!1),oe.dependents.includes(e)&&(t.depends=!0,t.hidden=!1),t)}return(i,n)=>{return e.forceVisible||c(t).isVisible(e.varName)?(u(),d("div",fe,[h("div",{class:g(a(e.varName))},[h("span",null,m(e.varName===c(oe).selectedVarName?"⊜":"⇒"),1)],2),h("div",ve,[h("span",{onClick:n[0]||(n[0]=t=>c(ge)(e.varName))},m(c(t).getDisplayName(e.varName))+": ",1)]),h("div",ye,m(c(C)(c(ue)(e.varName))),1),h("div",be,[c(t).isBuyable(e.varName)?(u(),d("button",{key:0,onClick:n[1]||(n[1]=s=>{return a=e.varName,t.buy(a),void pe();var a}),disabled:!s(e.varName)}," Buy: "+m(c(C)(c(he)(e.varName)))+" "+m(c(t).getCurrencyDisplayName(e.varName)),9,Se)):p("",!0)]),h("div",Me,[c(t).isSellable(e.varName)?(u(),d("button",{key:0,onClick:n[2]||(n[2]=s=>{return a=e.varName,t.sell(a),void pe();var a}),disabled:(r=e.varName,!(ue(r)>0))},"Sell: "+m(c(C)(c(de)(e.varName)))+" "+m(c(t).getCurrencyDisplayName(e.varName)),9,Ne)):p("",!0)])])):p("",!0);var r}}});const xe={class:"game"},we={class:"mainVar"},_e={class:"vars"},ke={class:"contents"};var Fe=l({setup(e){const t=Q.getInstance();return(e,s)=>(u(),d("div",xe,[h("div",we,[f(Ve,{varName:"t",forceVisible:""}),f(Ve,{varName:"money",forceVisible:""})]),h("div",_e,[(u(!0),d(v,null,y(c(t).getNames(),(e=>(u(),d("div",ke,[f(Ve,{varName:e},null,8,["varName"])])))),256))])]))}});function Ce(e,t,s){const a=t.get("id"),i=t.create("times",["x","b"],"x*b");t.create("reciprical",["x"],"1/(x+1)"),t.create("zigZag",["x"],"1-2 * acos((1- smoother) * sin(2 * pi * x))/pi"),t.create("squareWave",["x"],"2 * atan( sin(2 * pi * x)/ smoother )/pi"),t.create("sawtooth",["x"],"(1+zigZag((2 * x - 1)/4) * squareWave(x/2))/2"),t.create("steps",["x"],"x - sawtooth(x)"),t.create("logSquares",["x","b"],"log(x^2+b^2)"),t.create("curvedSawtooth",["x"],"logSquares(x^smoother,sawtooth(x))");const n=t.create("calcMarketValue",["x"],"curvedSawtooth(x)*(marketScale+1)");e.newPlain("money","$",!1,1),e.newBuyable("stability","Market Stability",!0,i,{x:1.25,b:"stability+2/1.25"},"money",!1),e.newBuyable("marketScale","Market Scale",!0,i,{x:2,b:"marketScale+1"},"stability",!1),e.newCalculation("smoother","Smoother",!1,i,{x:"stability",b:.01}),e.newCalculation("marketValue","Market Value",!0,n,{x:"t"}),e.newBuyable("shares","Shares",!0,a,{x:"marketValue"},"money",!0),s.create("startStory","Went Bankrupt","t > 0","You start the game from scratch",{storyPoint:'You went bankrupt. All you have left is your library card and a dollar\'s worth of coins you found in the gutter. Time to head to the library, grab a computer, and login to jankyMarketTrader.com\n\n Warning: this is just a preview release so there will likely be bugs\n There is no auto save. Use the save and load buttons\n It is possible to price yourself out of the market until you reach the "Too Stable?" milestone\n this is intended to force some strategic play while the cost of having to restart is low'}),s.create("tooStable","Too Stable?","stability > 3"," Can sell Market Stability",{setSellable:{stability:!0},storyPoint:"It is harder to make money in stable markets. Maybe you should trade some of that stability to increase the scale of the market."}),s.create("scaled","Insider Trading","marketScale >= 1"," Better price when selling shares ",{adjustFunctions:{shares:{sellCost:" 1.1 * <&>"}}})}var De=l({setup(e){const t=Q.getInstance();return(e,s)=>(u(),d("div",null,[h("button",{onClick:s[0]||(s[0]=(...e)=>c(t).save&&c(t).save(...e))},"save"),h("button",{onClick:s[1]||(s[1]=(...e)=>c(t).load&&c(t).load(...e))},"load")]))}});const Ue=h("br",null,null,-1),Te=h("br",null,null,-1);var je=l({setup(e){const t=Q.getInstance();return(e,s)=>(u(),d("div",null,[b(" Dependencies: "+m(c(oe).dependencies.map((e=>c(t).getDisplayName(e))).join(", "))+" ",1),Ue,Te,b(" Dependents: "+m(c(oe).dependents.map((e=>c(t).getDisplayName(e))).join(", ")),1)]))}});const Be={},Ae=[h("div",{id:"test-graph-expr",class:"graphDiv"},null,-1)];Be.render=function(e,t){return u(),d("div",null,Ae)};const Ee=h("br",null,null,-1),Ie=h("hr",null,null,-1);var qe=l({props:{name:{type:String,required:!0}},setup(e){const t=Q.getInstance();return(s,a)=>(u(),d(v,null,[h("div",{class:g({milestone:!0,reached:c(me)(e.name)})},[b(m(c(t).getMilestoneDisplayName(e.name))+": "+m(c(t).getMilestoneCondition(e.name)),1),Ee,b(" "+m(c(t).getMilestoneReward(e.name)),1)],2),Ie],64))}});const Ge={class:"milestones"},Oe={class:"contents"};var Pe=l({setup(e){const t=Q.getInstance();return(e,s)=>(u(),d("div",Ge,[(u(!0),d(v,null,y(c(t).getMilestoneNames(),(e=>(u(),d("div",Oe,[f(qe,{name:e},null,8,["name"])])))),256))]))}});const Re={},Je={class:"contents"},Le=["onClick"];var We=l({setup:e=>(e,t)=>(u(!0),d(v,null,y(c(se)(),(e=>(u(),d("div",Je,[h("div",null,[h("button",{onClick:t=>c(re)(e)},m(e),9,Le)])])))),256))});const ze={class:"mathole"},Ze={class:"topBar"},He={class:"sidebar"},Ke={class:"mainPain"};var Ye=l({setup(e){Q.init(le,ce,Ce);const t=Q.getInstance();ee={Options:De,Dependencies:je,Graph:Be,Milestones:Pe,Story:Re,Sidebars:We},te=t;let s=0;function a(e){const i=e-s;t.canTick&&i>=500&&(t.tick(i/1e4),s=e),window.requestAnimationFrame(a)}return S((()=>{console.log("mounted "),window.requestAnimationFrame(a)})),(e,t)=>(u(),d("div",ze,[h("div",Ze,[h("button",{onClick:t[0]||(t[0]=e=>c(ne)())}," ←"),b(m(c(oe).sidebarMode)+" ",1),h("button",{onClick:t[1]||(t[1]=e=>c(re)("Sidebars"))}," ≡")]),h("div",He,[(u(),M(V,null,[(u(),M(N(c(ae)())))],1024))]),h("div",Ke,[f(Fe)])]))}});const Xe={setup(e){var t={};return x("appAddViewMap",(function(e,s,a,i=t){i[e]||(i[e]={}),i[e][s]=a})),x("appGetView",(function(e,s,a=t){return a[e][s]})),(e,t)=>(u(),M(Ye))}};window.global={},w(Xe).mount("#app");
